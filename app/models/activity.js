/* automatically generated by JSCoverage - do not edit */
if (typeof _$jscoverage === 'undefined') _$jscoverage = {};
if (! _$jscoverage['models/activity.js']) {
  _$jscoverage['models/activity.js'] = [];
  _$jscoverage['models/activity.js'][4] = 0;
  _$jscoverage['models/activity.js'][6] = 0;
  _$jscoverage['models/activity.js'][26] = 0;
  _$jscoverage['models/activity.js'][28] = 0;
  _$jscoverage['models/activity.js'][33] = 0;
  _$jscoverage['models/activity.js'][35] = 0;
  _$jscoverage['models/activity.js'][37] = 0;
  _$jscoverage['models/activity.js'][38] = 0;
  _$jscoverage['models/activity.js'][39] = 0;
  _$jscoverage['models/activity.js'][40] = 0;
  _$jscoverage['models/activity.js'][42] = 0;
  _$jscoverage['models/activity.js'][43] = 0;
  _$jscoverage['models/activity.js'][46] = 0;
  _$jscoverage['models/activity.js'][49] = 0;
  _$jscoverage['models/activity.js'][51] = 0;
  _$jscoverage['models/activity.js'][53] = 0;
  _$jscoverage['models/activity.js'][59] = 0;
  _$jscoverage['models/activity.js'][61] = 0;
  _$jscoverage['models/activity.js'][66] = 0;
  _$jscoverage['models/activity.js'][68] = 0;
  _$jscoverage['models/activity.js'][69] = 0;
  _$jscoverage['models/activity.js'][70] = 0;
  _$jscoverage['models/activity.js'][71] = 0;
  _$jscoverage['models/activity.js'][75] = 0;
  _$jscoverage['models/activity.js'][80] = 0;
  _$jscoverage['models/activity.js'][82] = 0;
  _$jscoverage['models/activity.js'][87] = 0;
  _$jscoverage['models/activity.js'][89] = 0;
  _$jscoverage['models/activity.js'][90] = 0;
  _$jscoverage['models/activity.js'][91] = 0;
  _$jscoverage['models/activity.js'][92] = 0;
  _$jscoverage['models/activity.js'][94] = 0;
  _$jscoverage['models/activity.js'][96] = 0;
  _$jscoverage['models/activity.js'][97] = 0;
  _$jscoverage['models/activity.js'][98] = 0;
  _$jscoverage['models/activity.js'][99] = 0;
  _$jscoverage['models/activity.js'][103] = 0;
  _$jscoverage['models/activity.js'][107] = 0;
  _$jscoverage['models/activity.js'][109] = 0;
  _$jscoverage['models/activity.js'][110] = 0;
  _$jscoverage['models/activity.js'][111] = 0;
  _$jscoverage['models/activity.js'][112] = 0;
  _$jscoverage['models/activity.js'][114] = 0;
  _$jscoverage['models/activity.js'][118] = 0;
  _$jscoverage['models/activity.js'][119] = 0;
  _$jscoverage['models/activity.js'][120] = 0;
  _$jscoverage['models/activity.js'][121] = 0;
  _$jscoverage['models/activity.js'][126] = 0;
  _$jscoverage['models/activity.js'][131] = 0;
  _$jscoverage['models/activity.js'][134] = 0;
  _$jscoverage['models/activity.js'][136] = 0;
  _$jscoverage['models/activity.js'][137] = 0;
  _$jscoverage['models/activity.js'][138] = 0;
  _$jscoverage['models/activity.js'][139] = 0;
  _$jscoverage['models/activity.js'][142] = 0;
  _$jscoverage['models/activity.js'][144] = 0;
  _$jscoverage['models/activity.js'][145] = 0;
  _$jscoverage['models/activity.js'][146] = 0;
  _$jscoverage['models/activity.js'][147] = 0;
  _$jscoverage['models/activity.js'][152] = 0;
  _$jscoverage['models/activity.js'][153] = 0;
  _$jscoverage['models/activity.js'][155] = 0;
  _$jscoverage['models/activity.js'][157] = 0;
  _$jscoverage['models/activity.js'][158] = 0;
  _$jscoverage['models/activity.js'][159] = 0;
  _$jscoverage['models/activity.js'][160] = 0;
  _$jscoverage['models/activity.js'][167] = 0;
  _$jscoverage['models/activity.js'][169] = 0;
  _$jscoverage['models/activity.js'][171] = 0;
  _$jscoverage['models/activity.js'][173] = 0;
  _$jscoverage['models/activity.js'][176] = 0;
  _$jscoverage['models/activity.js'][179] = 0;
  _$jscoverage['models/activity.js'][181] = 0;
  _$jscoverage['models/activity.js'][182] = 0;
  _$jscoverage['models/activity.js'][183] = 0;
  _$jscoverage['models/activity.js'][184] = 0;
  _$jscoverage['models/activity.js'][192] = 0;
  _$jscoverage['models/activity.js'][194] = 0;
  _$jscoverage['models/activity.js'][196] = 0;
  _$jscoverage['models/activity.js'][198] = 0;
  _$jscoverage['models/activity.js'][199] = 0;
  _$jscoverage['models/activity.js'][200] = 0;
  _$jscoverage['models/activity.js'][201] = 0;
  _$jscoverage['models/activity.js'][206] = 0;
  _$jscoverage['models/activity.js'][208] = 0;
  _$jscoverage['models/activity.js'][210] = 0;
  _$jscoverage['models/activity.js'][212] = 0;
  _$jscoverage['models/activity.js'][214] = 0;
  _$jscoverage['models/activity.js'][215] = 0;
  _$jscoverage['models/activity.js'][216] = 0;
  _$jscoverage['models/activity.js'][217] = 0;
  _$jscoverage['models/activity.js'][222] = 0;
  _$jscoverage['models/activity.js'][225] = 0;
  _$jscoverage['models/activity.js'][227] = 0;
  _$jscoverage['models/activity.js'][228] = 0;
  _$jscoverage['models/activity.js'][229] = 0;
  _$jscoverage['models/activity.js'][230] = 0;
  _$jscoverage['models/activity.js'][235] = 0;
  _$jscoverage['models/activity.js'][237] = 0;
  _$jscoverage['models/activity.js'][238] = 0;
  _$jscoverage['models/activity.js'][240] = 0;
  _$jscoverage['models/activity.js'][241] = 0;
  _$jscoverage['models/activity.js'][242] = 0;
  _$jscoverage['models/activity.js'][243] = 0;
  _$jscoverage['models/activity.js'][247] = 0;
  _$jscoverage['models/activity.js'][250] = 0;
  _$jscoverage['models/activity.js'][252] = 0;
  _$jscoverage['models/activity.js'][254] = 0;
  _$jscoverage['models/activity.js'][255] = 0;
  _$jscoverage['models/activity.js'][256] = 0;
  _$jscoverage['models/activity.js'][257] = 0;
  _$jscoverage['models/activity.js'][261] = 0;
  _$jscoverage['models/activity.js'][263] = 0;
  _$jscoverage['models/activity.js'][265] = 0;
  _$jscoverage['models/activity.js'][266] = 0;
  _$jscoverage['models/activity.js'][267] = 0;
  _$jscoverage['models/activity.js'][268] = 0;
  _$jscoverage['models/activity.js'][274] = 0;
  _$jscoverage['models/activity.js'][275] = 0;
  _$jscoverage['models/activity.js'][277] = 0;
  _$jscoverage['models/activity.js'][278] = 0;
  _$jscoverage['models/activity.js'][283] = 0;
  _$jscoverage['models/activity.js'][284] = 0;
  _$jscoverage['models/activity.js'][285] = 0;
  _$jscoverage['models/activity.js'][286] = 0;
  _$jscoverage['models/activity.js'][287] = 0;
  _$jscoverage['models/activity.js'][288] = 0;
  _$jscoverage['models/activity.js'][289] = 0;
  _$jscoverage['models/activity.js'][294] = 0;
  _$jscoverage['models/activity.js'][296] = 0;
  _$jscoverage['models/activity.js'][297] = 0;
  _$jscoverage['models/activity.js'][298] = 0;
  _$jscoverage['models/activity.js'][299] = 0;
  _$jscoverage['models/activity.js'][306] = 0;
  _$jscoverage['models/activity.js'][311] = 0;
  _$jscoverage['models/activity.js'][313] = 0;
  _$jscoverage['models/activity.js'][314] = 0;
  _$jscoverage['models/activity.js'][315] = 0;
  _$jscoverage['models/activity.js'][316] = 0;
  _$jscoverage['models/activity.js'][318] = 0;
  _$jscoverage['models/activity.js'][319] = 0;
  _$jscoverage['models/activity.js'][320] = 0;
  _$jscoverage['models/activity.js'][324] = 0;
  _$jscoverage['models/activity.js'][325] = 0;
  _$jscoverage['models/activity.js'][332] = 0;
  _$jscoverage['models/activity.js'][348] = 0;
  _$jscoverage['models/activity.js'][350] = 0;
  _$jscoverage['models/activity.js'][352] = 0;
  _$jscoverage['models/activity.js'][353] = 0;
  _$jscoverage['models/activity.js'][355] = 0;
  _$jscoverage['models/activity.js'][357] = 0;
  _$jscoverage['models/activity.js'][359] = 0;
  _$jscoverage['models/activity.js'][361] = 0;
  _$jscoverage['models/activity.js'][364] = 0;
  _$jscoverage['models/activity.js'][366] = 0;
  _$jscoverage['models/activity.js'][372] = 0;
  _$jscoverage['models/activity.js'][377] = 0;
  _$jscoverage['models/activity.js'][378] = 0;
  _$jscoverage['models/activity.js'][379] = 0;
  _$jscoverage['models/activity.js'][380] = 0;
  _$jscoverage['models/activity.js'][381] = 0;
  _$jscoverage['models/activity.js'][382] = 0;
  _$jscoverage['models/activity.js'][383] = 0;
  _$jscoverage['models/activity.js'][385] = 0;
  _$jscoverage['models/activity.js'][386] = 0;
  _$jscoverage['models/activity.js'][388] = 0;
  _$jscoverage['models/activity.js'][391] = 0;
  _$jscoverage['models/activity.js'][392] = 0;
  _$jscoverage['models/activity.js'][393] = 0;
  _$jscoverage['models/activity.js'][394] = 0;
  _$jscoverage['models/activity.js'][398] = 0;
  _$jscoverage['models/activity.js'][399] = 0;
  _$jscoverage['models/activity.js'][401] = 0;
  _$jscoverage['models/activity.js'][403] = 0;
  _$jscoverage['models/activity.js'][405] = 0;
  _$jscoverage['models/activity.js'][406] = 0;
  _$jscoverage['models/activity.js'][407] = 0;
  _$jscoverage['models/activity.js'][411] = 0;
}
_$jscoverage['models/activity.js'][4]++;
var Activity = (function () {
  _$jscoverage['models/activity.js'][6]++;
  this.defineProperties({name: {type: "string", required: "true"}, description: {type: "string"}, category: {type: "string"}, flag: {type: "string", required: "true"}, time1: {type: "number"}, time2: {type: "number"}, begindate: {type: "number"}, enddate: {type: "number"}, lowprice: {type: "number"}, highprice: {type: "number"}, lownumparticipants: {type: "number"}, highnumparticipants: {type: "number"}, latitude: {type: "number"}, longitude: {type: "number"}, duration: {type: "number"}});
});
_$jscoverage['models/activity.js'][26]++;
var geoSearchHelper = (function (records, lat, myLong, callback) {
  _$jscoverage['models/activity.js'][28]++;
  var consDist = 69.1, consAng = 57.3, returnRecords = [], count = 0, idx;
  _$jscoverage['models/activity.js'][33]++;
  for (idx in records) {
    _$jscoverage['models/activity.js'][35]++;
    var record = records[idx];
    _$jscoverage['models/activity.js'][37]++;
    var dist = Math.sqrt(Math.pow(record.latitude - lat, 2) + Math.pow((record.longitude - myLong) * Math.cos(lat / 57.3), 2));
    _$jscoverage['models/activity.js'][38]++;
    record.distance = dist * 100;
    _$jscoverage['models/activity.js'][39]++;
    returnRecords.push(record);
    _$jscoverage['models/activity.js'][40]++;
    count = count + 1;
}
  _$jscoverage['models/activity.js'][42]++;
  if (returnRecords.length > 0) {
    _$jscoverage['models/activity.js'][43]++;
    returnRecords.sort((function (recA, recB) {
  _$jscoverage['models/activity.js'][43]++;
  return recA.distance - recB.distance;
}));
  }
  _$jscoverage['models/activity.js'][46]++;
  callback(returnRecords, count);
});
_$jscoverage['models/activity.js'][49]++;
Activity.add = (function (parameterDict, callback) {
  _$jscoverage['models/activity.js'][51]++;
  var self = this;
  _$jscoverage['models/activity.js'][53]++;
  var respDict = {};
  _$jscoverage['models/activity.js'][59]++;
  var validCategories = ["Sports", "Entertainment", "Food", "Arts", "Nature"];
  _$jscoverage['models/activity.js'][61]++;
  var activityDict = {};
  _$jscoverage['models/activity.js'][66]++;
  if (! parameterDict.name) {
    _$jscoverage['models/activity.js'][68]++;
    respDict.errCode = 6;
    _$jscoverage['models/activity.js'][69]++;
    respDict.message = "null name";
    _$jscoverage['models/activity.js'][70]++;
    callback(respDict);
    _$jscoverage['models/activity.js'][71]++;
    return;
  }
  else {
    _$jscoverage['models/activity.js'][75]++;
    activityDict.name = parameterDict.name;
  }
  _$jscoverage['models/activity.js'][80]++;
  if (parameterDict.description) {
    _$jscoverage['models/activity.js'][82]++;
    activityDict.description = parameterDict.description;
  }
  _$jscoverage['models/activity.js'][87]++;
  if (! parameterDict.category) {
    _$jscoverage['models/activity.js'][89]++;
    respDict.errCode = 6;
    _$jscoverage['models/activity.js'][90]++;
    respDict.message = "null category";
    _$jscoverage['models/activity.js'][91]++;
    callback(respDict);
    _$jscoverage['models/activity.js'][92]++;
    return;
  }
  else {
    _$jscoverage['models/activity.js'][94]++;
    if (validCategories.indexOf(parameterDict.category) === -1) {
      _$jscoverage['models/activity.js'][96]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][97]++;
      respDict.message = "invalid category";
      _$jscoverage['models/activity.js'][98]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][99]++;
      return;
    }
    else {
      _$jscoverage['models/activity.js'][103]++;
      activityDict.category = parameterDict.category;
    }
  }
  _$jscoverage['models/activity.js'][107]++;
  if (! parameterDict.flag) {
    _$jscoverage['models/activity.js'][109]++;
    respDict.errCode = 6;
    _$jscoverage['models/activity.js'][110]++;
    respDict.message = "null flag";
    _$jscoverage['models/activity.js'][111]++;
    callback(respDict);
    _$jscoverage['models/activity.js'][112]++;
    return;
  }
  else {
    _$jscoverage['models/activity.js'][114]++;
    if (parameterDict.flag !== "startEnd" && parameterDict.flag !== "openClose" && parameterDict.flag !== "anyTime" && parameterDict.flag !== "dayTime" && parameterDict.flag !== "nightTime") {
      _$jscoverage['models/activity.js'][118]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][119]++;
      respDict.message = "invalid flag";
      _$jscoverage['models/activity.js'][120]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][121]++;
      return;
    }
    else {
      _$jscoverage['models/activity.js'][126]++;
      activityDict.flag = parameterDict.flag;
    }
  }
  _$jscoverage['models/activity.js'][131]++;
  if (parameterDict.flag === "startEnd" || parameterDict.flag === "openClose") {
    _$jscoverage['models/activity.js'][134]++;
    if (! parameterDict.time1) {
      _$jscoverage['models/activity.js'][136]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][137]++;
      respDict.message = "null time1";
      _$jscoverage['models/activity.js'][138]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][139]++;
      return;
    }
    else {
      _$jscoverage['models/activity.js'][142]++;
      if (! parameterDict.time2) {
        _$jscoverage['models/activity.js'][144]++;
        respDict.errCode = 6;
        _$jscoverage['models/activity.js'][145]++;
        respDict.message = "null time2";
        _$jscoverage['models/activity.js'][146]++;
        callback(respDict);
        _$jscoverage['models/activity.js'][147]++;
        return;
      }
      else {
        _$jscoverage['models/activity.js'][152]++;
        activityDict.time1 = parseFloat(parameterDict.time1);
        _$jscoverage['models/activity.js'][153]++;
        activityDict.time2 = parseFloat(parameterDict.time2);
        _$jscoverage['models/activity.js'][155]++;
        if (activityDict.time1 > activityDict.time2) {
          _$jscoverage['models/activity.js'][157]++;
          respDict.errCode = 6;
          _$jscoverage['models/activity.js'][158]++;
          respDict.message = "invalid times";
          _$jscoverage['models/activity.js'][159]++;
          callback(respDict);
          _$jscoverage['models/activity.js'][160]++;
          return;
        }
      }
    }
  }
  _$jscoverage['models/activity.js'][167]++;
  if (parameterDict.begindate) {
    _$jscoverage['models/activity.js'][169]++;
    parameterDict.begindate = parseFloat(parameterDict.begindate);
  }
  _$jscoverage['models/activity.js'][171]++;
  if (parameterDict.enddate) {
    _$jscoverage['models/activity.js'][173]++;
    parameterDict.enddate = parseFloat(parameterDict.enddate);
  }
  _$jscoverage['models/activity.js'][176]++;
  if (parameterDict.begindate && parameterDict.enddate) {
    _$jscoverage['models/activity.js'][179]++;
    if (parameterDict.begindate > parameterDict.enddate) {
      _$jscoverage['models/activity.js'][181]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][182]++;
      respDict.message = "invalid dates";
      _$jscoverage['models/activity.js'][183]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][184]++;
      return;
    }
  }
  _$jscoverage['models/activity.js'][192]++;
  if (parameterDict.lowprice === "0" || (parameterDict.lowprice === 0)) {
    _$jscoverage['models/activity.js'][194]++;
    activityDict.lowprice = 0;
  }
  else {
    _$jscoverage['models/activity.js'][196]++;
    if (! parameterDict.lowprice) {
      _$jscoverage['models/activity.js'][198]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][199]++;
      respDict.message = "null lowprice";
      _$jscoverage['models/activity.js'][200]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][201]++;
      return;
    }
    else {
      _$jscoverage['models/activity.js'][206]++;
      activityDict.lowprice = parseFloat(parameterDict.lowprice);
    }
  }
  _$jscoverage['models/activity.js'][208]++;
  if ((parameterDict.highprice === "0") || (parameterDict.highprice === 0)) {
    _$jscoverage['models/activity.js'][210]++;
    activityDict.highprice = 0;
  }
  else {
    _$jscoverage['models/activity.js'][212]++;
    if (! parameterDict.highprice) {
      _$jscoverage['models/activity.js'][214]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][215]++;
      respDict.message = "null highprice";
      _$jscoverage['models/activity.js'][216]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][217]++;
      return;
    }
    else {
      _$jscoverage['models/activity.js'][222]++;
      activityDict.highprice = parseFloat(parameterDict.highprice);
    }
  }
  _$jscoverage['models/activity.js'][225]++;
  if (activityDict.lowprice > activityDict.highprice) {
    _$jscoverage['models/activity.js'][227]++;
    respDict.errCode = 6;
    _$jscoverage['models/activity.js'][228]++;
    respDict.message = "invalid prices";
    _$jscoverage['models/activity.js'][229]++;
    callback(respDict);
    _$jscoverage['models/activity.js'][230]++;
    return;
  }
  _$jscoverage['models/activity.js'][235]++;
  if (parameterDict.lownumparticipants) {
    _$jscoverage['models/activity.js'][237]++;
    activityDict.lownumparticipants = parseFloat(parameterDict.lownumparticipants);
    _$jscoverage['models/activity.js'][238]++;
    if (activityDict.lownumparticipants <= 0) {
      _$jscoverage['models/activity.js'][240]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][241]++;
      respDict.message = "invalid participants";
      _$jscoverage['models/activity.js'][242]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][243]++;
      return;
    }
  }
  _$jscoverage['models/activity.js'][247]++;
  if (parameterDict.highnumparticipants) {
    _$jscoverage['models/activity.js'][250]++;
    activityDict.highnumparticipants = parseFloat(parameterDict.highnumparticipants);
    _$jscoverage['models/activity.js'][252]++;
    if (activityDict.highnumparticipants <= 0) {
      _$jscoverage['models/activity.js'][254]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][255]++;
      respDict.message = "invalid participants";
      _$jscoverage['models/activity.js'][256]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][257]++;
      return;
    }
  }
  _$jscoverage['models/activity.js'][261]++;
  if (parameterDict.lownumparticipants && parameterDict.highnumparticipants) {
    _$jscoverage['models/activity.js'][263]++;
    if (activityDict.lownumparticipants > activityDict.highnumparticipants) {
      _$jscoverage['models/activity.js'][265]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][266]++;
      respDict.message = "invalid participants";
      _$jscoverage['models/activity.js'][267]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][268]++;
      return;
    }
  }
  _$jscoverage['models/activity.js'][274]++;
  if (parameterDict.latitude) {
    _$jscoverage['models/activity.js'][275]++;
    activityDict.latitude = parseFloat(parameterDict.latitude);
  }
  _$jscoverage['models/activity.js'][277]++;
  if (parameterDict.longitude) {
    _$jscoverage['models/activity.js'][278]++;
    activityDict.longitude = parseFloat(parameterDict.longitude);
  }
  _$jscoverage['models/activity.js'][283]++;
  if (parameterDict.duration) {
    _$jscoverage['models/activity.js'][284]++;
    activityDict.duration = parseFloat(parameterDict.duration);
    _$jscoverage['models/activity.js'][285]++;
    if (activityDict.duration <= 0) {
      _$jscoverage['models/activity.js'][286]++;
      respDict.errCode = 6;
      _$jscoverage['models/activity.js'][287]++;
      respDict.message = "invalid duration";
      _$jscoverage['models/activity.js'][288]++;
      callback(respDict);
      _$jscoverage['models/activity.js'][289]++;
      return;
    }
  }
  _$jscoverage['models/activity.js'][294]++;
  geddy.model.Activity.first(activityDict, (function (err, result) {
  _$jscoverage['models/activity.js'][296]++;
  if (result) {
    _$jscoverage['models/activity.js'][297]++;
    respDict.errCode = 10;
    _$jscoverage['models/activity.js'][298]++;
    respDict.message = "That Activity already exists.";
    _$jscoverage['models/activity.js'][299]++;
    callback(respDict);
  }
  else {
    _$jscoverage['models/activity.js'][306]++;
    var activityRecord = geddy.model.Activity.create(activityDict);
    _$jscoverage['models/activity.js'][311]++;
    geddy.model.Activity.save(activityRecord, (function (err, result) {
  _$jscoverage['models/activity.js'][313]++;
  if (err) {
    _$jscoverage['models/activity.js'][314]++;
    console.log("ERROR in Activity SAVE");
    _$jscoverage['models/activity.js'][315]++;
    for (var item in err) {
      _$jscoverage['models/activity.js'][316]++;
      console.log(item + " : " + err.item);
}
    _$jscoverage['models/activity.js'][318]++;
    respDict.errCode = 7;
    _$jscoverage['models/activity.js'][319]++;
    respDict.message = "database error";
    _$jscoverage['models/activity.js'][320]++;
    callback(respDict);
  }
  else {
    _$jscoverage['models/activity.js'][324]++;
    respDict.errCode = 1;
    _$jscoverage['models/activity.js'][325]++;
    callback(respDict);
  }
}));
  }
}));
});
_$jscoverage['models/activity.js'][332]++;
Activity.search = (function search(params, myLat, myLong, callback) {
  _$jscoverage['models/activity.js'][348]++;
  var respDict = {};
  _$jscoverage['models/activity.js'][350]++;
  if (typeof params !== "object") {
    _$jscoverage['models/activity.js'][352]++;
    respDict.errCode = 7;
    _$jscoverage['models/activity.js'][353]++;
    callback(respDict);
  }
  _$jscoverage['models/activity.js'][355]++;
  Activity.all(params, (function (err, activities) {
  _$jscoverage['models/activity.js'][357]++;
  if (err) {
    _$jscoverage['models/activity.js'][359]++;
    throw err;
  }
  _$jscoverage['models/activity.js'][361]++;
  if (myLat && myLong && (typeof myLat == "number") && (typeof myLong == "number")) {
    _$jscoverage['models/activity.js'][364]++;
    geoSearchHelper(activities, myLat, myLong, (function (returnRecords, count) {
  _$jscoverage['models/activity.js'][366]++;
  callback(returnRecords);
}));
  }
  else {
    _$jscoverage['models/activity.js'][372]++;
    callback(activities);
  }
}));
});
_$jscoverage['models/activity.js'][377]++;
Activity.getById = (function (activityID, callback) {
  _$jscoverage['models/activity.js'][378]++;
  if (activityID) {
    _$jscoverage['models/activity.js'][379]++;
    geddy.model.Activity.first({id: activityID}, (function (err, activityModel) {
  _$jscoverage['models/activity.js'][380]++;
  var responseDict = {};
  _$jscoverage['models/activity.js'][381]++;
  if (! err && activityModel) {
    _$jscoverage['models/activity.js'][382]++;
    responseDict.errCode = 1;
    _$jscoverage['models/activity.js'][383]++;
    responseDict.activity = activityModel;
  }
  else {
    _$jscoverage['models/activity.js'][385]++;
    responseDict.errCode = 7;
    _$jscoverage['models/activity.js'][386]++;
    responseDict.activity = null;
  }
  _$jscoverage['models/activity.js'][388]++;
  callback(responseDict);
}));
  }
  else {
    _$jscoverage['models/activity.js'][391]++;
    var responseDict = {};
    _$jscoverage['models/activity.js'][392]++;
    responseDict.errCode = 6;
    _$jscoverage['models/activity.js'][393]++;
    responseDict.activity = null;
    _$jscoverage['models/activity.js'][394]++;
    callback(responseDict);
  }
});
_$jscoverage['models/activity.js'][398]++;
Activity.TESTAPI_resetFixture = (function (callback) {
  _$jscoverage['models/activity.js'][399]++;
  geddy.model.Activity.all((function (err, result) {
  _$jscoverage['models/activity.js'][401]++;
  for (var activityModel in result) {
    _$jscoverage['models/activity.js'][403]++;
    geddy.model.Activity.remove(result[activityModel].id);
}
  _$jscoverage['models/activity.js'][405]++;
  var responseDict = {};
  _$jscoverage['models/activity.js'][406]++;
  responseDict.errCode = 1;
  _$jscoverage['models/activity.js'][407]++;
  callback(responseDict);
}));
});
_$jscoverage['models/activity.js'][411]++;
Activity = geddy.model.register("Activity", Activity);
_$jscoverage['models/activity.js'].source = ["/*jslint white: false */","/*jslint indent: 2 */","","var Activity = function () {","","  this.defineProperties({","    name: {type: 'string', required: 'true'},","    description: {type: 'string'},","    category: {type: 'string'},","    flag: {type: 'string', required: 'true'},","    time1: {type: 'number'},","    time2: {type: 'number'},","    begindate: {type: 'number'},","    enddate: {type: 'number'},","    lowprice: {type: 'number'},","    highprice: {type: 'number'},","    lownumparticipants: {type: 'number'},","    highnumparticipants: {type: 'number'},","    latitude: {type: 'number'},","    longitude: {type: 'number'},","    duration: {type: 'number'}","  });","","};","","var geoSearchHelper = function (records, lat, myLong, callback)","{","  var consDist = 69.1","    , consAng = 57.3","    , returnRecords = []","    , count = 0","    , idx;","  for (idx in records)","  {","    var record = records[idx];","    //using a geo dist equation","    var dist = Math.sqrt(Math.pow(record.latitude - lat, 2) + Math.pow((record.longitude - myLong) * Math.cos(lat / 57.3), 2));","    record.distance = dist*100;","    returnRecords.push(record);","    count = count + 1;","  }","  if (returnRecords.length &gt; 0){","    returnRecords.sort(function (recA, recB) {return recA.distance - recB.distance;});","  }","  // console.dir(returnRecords);","  callback(returnRecords, count);","};","","Activity.add = function (parameterDict, callback){","","  var self = this;","","  var respDict = {};","","  // console.log(\"reached model create\");","  // console.dir(parameterDict);","","","  var validCategories = [\"Sports\", \"Entertainment\", \"Food\", \"Arts\", \"Nature\"];","","  var activityDict = {};","","  //make sure required fields are defineed","","  //NAME","  if (!parameterDict.name) ","  {","    respDict.errCode = 6;","    respDict.message = \"null name\";","    callback(respDict);","    return;","  } ","  else ","  {","    activityDict.name = parameterDict.name;","  } ","","","  //DESCRIPTION","  if(parameterDict.description)","  {","    activityDict.description = parameterDict.description;","  }","","","  //CATEGORY","  if(!parameterDict.category) ","  {","    respDict.errCode = 6;","    respDict.message = \"null category\";","    callback(respDict);","    return;","  } ","  else if (validCategories.indexOf(parameterDict.category) === -1) ","  {","    respDict.errCode = 6;","    respDict.message = \"invalid category\";","    callback(respDict);","    return; ","  } ","  else ","  {","    activityDict.category = parameterDict.category;","  }","","  //FLAG","  if (!parameterDict.flag) ","  {","    respDict.errCode = 6;","    respDict.message = \"null flag\";","    callback(respDict);","    return;","  } ","  else if (parameterDict.flag !== 'startEnd' &amp;&amp; parameterDict.flag !== 'openClose' ","      &amp;&amp; parameterDict.flag !== 'anyTime' &amp;&amp;  parameterDict.flag !== 'dayTime' &amp;&amp; ","      parameterDict.flag !== 'nightTime') ","  {","    respDict.errCode = 6;","    respDict.message = \"invalid flag\";","    callback(respDict);","    return;","","  } ","  else ","  {","    activityDict.flag = parameterDict.flag;","  }","","","  //TIME 1 TIME 2","  if (parameterDict.flag === 'startEnd' || parameterDict.flag === 'openClose') ","  {","    ","    if(!parameterDict.time1) ","    {","      respDict.errCode = 6;","      respDict.message = \"null time1\";","      callback(respDict);","      return;","","    } ","    else if(!parameterDict.time2) ","    {","      respDict.errCode = 6;","      respDict.message = \"null time2\";","      callback(respDict);","      return;","    ","    } ","    else ","    {","      activityDict.time1 = parseFloat(parameterDict.time1);","      activityDict.time2 = parseFloat(parameterDict.time2);","","      if(activityDict.time1 &gt; activityDict.time2)","      {","        respDict.errCode = 6;","        respDict.message = \"invalid times\";","        callback(respDict);","        return;","      }","    }","  } ","","","  //BEGIN DATE AND END DATE","  if (parameterDict.begindate) ","  {","    parameterDict.begindate = parseFloat(parameterDict.begindate);","  } ","  if (parameterDict.enddate) ","  {","    parameterDict.enddate = parseFloat(parameterDict.enddate);","  } ","","  if(parameterDict.begindate &amp;&amp; parameterDict.enddate) ","  {","","    if (parameterDict.begindate &gt; parameterDict.enddate) ","    {","      respDict.errCode = 6;","      respDict.message = \"invalid dates\";","      callback(respDict);","      return;","    }","  }","","","  //PRICES","  // console.log(\"LOWPRICE = \" + parameterDict.lowprice);","  // console.log(\"HIGHPRICE = \" + parameterDict.highprice);","  if ((parameterDict.lowprice) === \"0\" || (parameterDict.lowprice === 0))","  {","    activityDict.lowprice = 0;","","  } else if (!parameterDict.lowprice) ","  {","    respDict.errCode = 6;","    respDict.message = \"null lowprice\";","    callback(respDict);","    return;","","  } ","  else ","  {","    activityDict.lowprice = parseFloat(parameterDict.lowprice);","  }","  if ((parameterDict.highprice === \"0\") || (parameterDict.highprice === 0))","  {","    activityDict.highprice = 0;","    ","  } else if (!parameterDict.highprice) ","  {","    respDict.errCode = 6;","    respDict.message = \"null highprice\";","    callback(respDict);","    return; ","","  } ","  else ","  {","    activityDict.highprice = parseFloat(parameterDict.highprice);","  }","","  if (activityDict.lowprice &gt; activityDict.highprice) ","  {","    respDict.errCode = 6;","    respDict.message = \"invalid prices\";","    callback(respDict);","    return;","  }","","","  //NUMBER OF PARTICIPANTS","  if (parameterDict.lownumparticipants) ","  {","    activityDict.lownumparticipants = parseFloat(parameterDict.lownumparticipants);","    if(activityDict.lownumparticipants &lt;= 0 )","    {","      respDict.errCode = 6;","      respDict.message = \"invalid participants\";","      callback(respDict);","      return;","    }","  }","","  if (parameterDict.highnumparticipants)","   {","    ","    activityDict.highnumparticipants = parseFloat(parameterDict.highnumparticipants);","    ","    if(activityDict.highnumparticipants &lt;= 0 )","    {","      respDict.errCode = 6;","      respDict.message = \"invalid participants\";","      callback(respDict);","      return;","    }","  }","","  if (parameterDict.lownumparticipants &amp;&amp; parameterDict.highnumparticipants) ","  {","    if(activityDict.lownumparticipants &gt; activityDict.highnumparticipants)","    {","      respDict.errCode = 6;","      respDict.message = \"invalid participants\";","      callback(respDict);","      return;","    }","  } ","","","  //LATTITUDE LONGITUDE","  if (parameterDict.latitude) {","    activityDict.latitude = parseFloat(parameterDict.latitude);","  }","  if (parameterDict.longitude) {","    activityDict.longitude = parseFloat(parameterDict.longitude);","  }","","","  //DURATION","  if(parameterDict.duration){","    activityDict.duration = parseFloat(parameterDict.duration);","    if(activityDict.duration &lt;= 0 ){","      respDict.errCode = 6;","      respDict.message = \"invalid duration\";","      callback(respDict);","      return;","    }","  }","","  //Make sure does not exist","   geddy.model.Activity.first(activityDict,","    function (err, result) {","      if (result){","        respDict.errCode = 10;","        respDict.message = \"That Activity already exists.\";","        callback(respDict);","      } else {","        // console.log(\"activity does not exists yet, so we continue to create it\");","        //all checks pass","        // console.log(\"ACTIVITY DICT: \");","        // console.dir(activityDict);","","        var activityRecord = geddy.model.Activity.create(activityDict);","","        // console.log(\"ACTIVITY RECORD: \");","        // console.dir(activityRecord);","","        geddy.model.Activity.save(activityRecord, ","          function (err, result){","            if(err){","              console.log(\"ERROR in Activity SAVE\");","              for (var item in err){","                console.log(item + \" : \" + err.item);","              }","              respDict.errCode = 7;","              respDict.message = \"database error\";","              callback(respDict);","            } else {","","","              respDict.errCode = 1;","              callback(respDict);","            }","          });","      }","  });  ","};","","Activity.search = function search(params, myLat, myLong, callback)","{","  /** data is of the following form","  Name: string","  time1: time","  time2: time","  flag: string startEnd, openClose, anyTime, dayTime, nightTime","  begin_date: date","  end_date: date","  low_price: int","  high_price: int","  low_num_participants: int","  high_num_participants: int","  latitude: number","  longitude: number","  **/","  var respDict = {};","  //we want to just return values based on the name if they supply a name so we shouldnt look at max/min values just matching vals or none","  if (typeof params !== 'object')","  {","    respDict.errCode = 7;","    callback(respDict);","  }","  Activity.all(params, function (err, activities)","  {","    if(err)","    {","      throw err;","    }","    if(myLat &amp;&amp; myLong &amp;&amp; (typeof myLat == 'number') &amp;&amp; (typeof myLong == 'number'))","    {","      // console.log(\"Calling geoSearchHelper\");","      geoSearchHelper(activities, myLat, myLong, function (returnRecords, count)","      {","        callback(returnRecords);","      });","    }","    else","    {","      // console.log(\"Not using geoSearchHelper\");","      callback(activities);","    }","  });","};  ","","Activity.getById = function (activityID, callback){","  if (activityID){","    geddy.model.Activity.first({id: activityID}, function (err, activityModel) {","      var responseDict = {};","      if (!err &amp;&amp; activityModel) {","        responseDict.errCode = 1;","        responseDict.activity = activityModel;","      } else {","        responseDict.errCode = 7;","        responseDict.activity = null;","      }","      callback(responseDict);","    });","  } else {","    var responseDict = {};","    responseDict.errCode = 6;","    responseDict.activity = null;","    callback(responseDict);","  }","};","","Activity.TESTAPI_resetFixture = function (callback) {","  geddy.model.Activity.all(function (err, result) {","    // console.log(\"got all activity models with error: \" + err + \" and result: \" + result);","    for (var activityModel in result){","      // console.log(\"trying to remove activityModel: \" + result[activityModel]);","      geddy.model.Activity.remove(result[activityModel].id);","    }","    var responseDict = {};","  responseDict.errCode = 1;","    callback(responseDict); //\"SUCCESS\"","  });","};   ","","Activity = geddy.model.register('Activity', Activity);"];
